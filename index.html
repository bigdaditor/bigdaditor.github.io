<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>No CSS Roadmap</title>
    <script type="module">
        import {tree, select, hierarchy, linkVertical, zoom, json} from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

        const svg = select('body')
            .append('svg')
            .attr('width', '100%')
            .attr('height', '100%')
            .attr('viewBox', '0 0 600 350');

        const zoomG = svg
            .append('g')
            .attr('transform', 'translate')

        const g = zoomG
            .append('g')
            .attr('transform', 'translate(10,0)')

        const treeLayout = tree().size([600,600]);

        svg.call(
            zoom().on('zoom', ({transform}) => {
                zoomG.attr('transform', transform);
            })
        )

        json('data.json').then(data => {
            const root = hierarchy(data);

            const nodes = g
                .selectAll('g.node')
                .data(treeLayout(root).descendants())

            const enterNodes = nodes
                .enter()
                .append('g')
                .attr('class', 'node')
                .attr('transform', d => `translate(${d.x}, ${d.y})`);

            const links = treeLayout(root).links();
            const linksGenerator = linkVertical()
                .x(d => d.x)
                .y(d => d.y);

            g.selectAll('path')
                .data(links)
                .enter()
                .append('path')
                .attr('d', linksGenerator)
                .attr('fill', 'none')
                .attr('stroke', 'black')

            enterNodes
                .append('text')
                .text(d => d.data.name)
                .attr('text-anchor', 'middle')
        })
    </script>
</head>
<body>
</body>
</html>